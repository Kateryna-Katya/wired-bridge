{"version":3,"file":"main-BfrnBmXl.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. LENIS (Smooth Scroll) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        orientation: 'vertical',\n        gestureOrientation: 'vertical',\n        smoothWheel: true,\n        wheelMultiplier: 1,\n        touchMultiplier: 2,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // --- 2. HEADER & MENU LOGIC ---\n    const burger = document.querySelector('.header__burger');\n    const nav = document.querySelector('.header__nav');\n    const navLinks = document.querySelectorAll('.header__link');\n    \n    const toggleMenu = () => {\n        const isActive = burger.classList.contains('is-active');\n        \n        if (isActive) {\n            burger.classList.remove('is-active');\n            nav.classList.remove('is-active');\n            document.body.classList.remove('menu-open');\n            lenis.start(); \n        } else {\n            burger.classList.add('is-active');\n            nav.classList.add('is-active');\n            document.body.classList.add('menu-open');\n            lenis.stop(); \n        }\n    };\n\n    if (burger) {\n        burger.addEventListener('click', toggleMenu);\n    }\n\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (window.innerWidth < 992) { \n                toggleMenu();\n            }\n        });\n    });\n\n    // --- 3. THREE.JS HERO ANIMATION ---\n    function initThreeHero() {\n        const container = document.getElementById('hero-canvas');\n        if (!container) return;\n\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\n        camera.position.z = 5;\n\n        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        container.appendChild(renderer.domElement);\n\n        // Геометрия: Икосаэдр\n        const geometry = new THREE.IcosahedronGeometry(2.5, 1);\n        const material = new THREE.MeshBasicMaterial({ \n            color: 0xCCFF00, \n            wireframe: true,\n            transparent: true,\n            opacity: 0.8\n        });\n\n        const sphere = new THREE.Mesh(geometry, material);\n        scene.add(sphere);\n\n        const geometryInner = new THREE.IcosahedronGeometry(1.5, 0);\n        const materialInner = new THREE.MeshBasicMaterial({ \n            color: 0xFFFFFF, \n            wireframe: true,\n            transparent: true,\n            opacity: 0.3\n        });\n        const sphereInner = new THREE.Mesh(geometryInner, materialInner);\n        scene.add(sphereInner);\n\n        let mouseX = 0;\n        let mouseY = 0;\n        let targetX = 0;\n        let targetY = 0;\n\n        const windowHalfX = window.innerWidth / 2;\n        const windowHalfY = window.innerHeight / 2;\n\n        document.addEventListener('mousemove', (event) => {\n            mouseX = (event.clientX - windowHalfX);\n            mouseY = (event.clientY - windowHalfY);\n        });\n\n        const animate = () => {\n            requestAnimationFrame(animate);\n\n            targetX = mouseX * 0.001;\n            targetY = mouseY * 0.001;\n\n            sphere.rotation.y += 0.005;\n            sphere.rotation.x += 0.002;\n            \n            sphere.rotation.y += 0.05 * (targetX - sphere.rotation.y);\n            sphere.rotation.x += 0.05 * (targetY - sphere.rotation.x);\n\n            sphereInner.rotation.y -= 0.005;\n            sphereInner.rotation.x -= 0.002;\n\n            renderer.render(scene, camera);\n        };\n\n        animate();\n\n        window.addEventListener('resize', () => {\n            const width = container.clientWidth;\n            const height = container.clientHeight;\n            renderer.setSize(width, height);\n            camera.aspect = width / height;\n            camera.updateProjectionMatrix();\n        });\n    }\n\n    initThreeHero();\n\n    // --- 4. SCROLL ANIMATIONS (GSAP) ---\n    gsap.registerPlugin(ScrollTrigger);\n\n    const fadeUpElements = document.querySelectorAll('[data-aos=\"fade-up\"]');\n    fadeUpElements.forEach(el => {\n        gsap.fromTo(el, \n            { opacity: 0, y: 50 },\n            {\n                opacity: 1, \n                y: 0, \n                duration: 1, \n                ease: 'power3.out',\n                scrollTrigger: {\n                    trigger: el,\n                    start: 'top 85%',\n                }\n            }\n        );\n    });\n\n    const fadeLeftElements = document.querySelectorAll('[data-aos=\"fade-left\"]');\n    fadeLeftElements.forEach(el => {\n        gsap.fromTo(el, \n            { opacity: 0, x: 50 },\n            {\n                opacity: 1, \n                x: 0, \n                duration: 1, \n                ease: 'power3.out',\n                scrollTrigger: {\n                    trigger: el,\n                    start: 'top 85%',\n                }\n            }\n        );\n    });\n\n    // --- 5. CONTACT FORM VALIDATION ---\n    const form = document.getElementById('contactForm');\n    const messageBox = document.getElementById('formMessage');\n    const phoneInput = document.getElementById('phone');\n\n    // ЖЕСТКАЯ ВАЛИДАЦИЯ ТЕЛЕФОНА (ТОЛЬКО ЦИФРЫ ПРИ ВВОДЕ)\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            // Заменяем всё, что не цифра (0-9), на пустую строку\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n    \n    // Генерация капчи\n    const num1 = Math.floor(Math.random() * 10) + 1;\n    const num2 = Math.floor(Math.random() * 10) + 1;\n    const captchaResult = num1 + num2;\n    \n    const captchaLabel = document.getElementById('captchaLabel');\n    if (captchaLabel) {\n        captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n    }\n\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            messageBox.textContent = '';\n            messageBox.className = 'form__message';\n\n            const userCaptcha = parseInt(document.getElementById('captcha').value);\n            const name = document.getElementById('name').value;\n            const phoneVal = phoneInput.value;\n\n            // Проверка капчи\n            if (userCaptcha !== captchaResult) {\n                messageBox.textContent = 'Ошибка: Неверный ответ на пример.';\n                messageBox.classList.add('error');\n                return;\n            }\n\n            // Проверка имени\n            if (name.length < 2) {\n                messageBox.textContent = 'Ошибка: Имя слишком короткое.';\n                messageBox.classList.add('error');\n                return;\n            }\n\n            // Проверка телефона (минимум 8 цифр для Италии/Европы)\n            if (phoneVal.length < 8) {\n                messageBox.textContent = 'Ошибка: Введите корректный номер телефона (минимум 8 цифр).';\n                messageBox.classList.add('error');\n                return;\n            }\n\n            // Имитация отправки\n            const btn = form.querySelector('button');\n            const originalText = btn.textContent;\n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                btn.textContent = 'Успешно!';\n                messageBox.textContent = 'Grazie! Ваша заявка принята. Мы свяжемся с вами.';\n                messageBox.classList.add('success');\n                form.reset();\n                \n                setTimeout(() => {\n                    btn.textContent = originalText;\n                    btn.disabled = false;\n                }, 3000);\n            }, 1500);\n        });\n    }\n\n    // --- 6. COOKIE BANNER ---\n    const cookieBanner = document.getElementById('cookieBanner');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookieBanner.style.display = 'flex';\n        }, 2000);\n    }\n\n    if (acceptBtn) {\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookieBanner.style.display = 'none';\n        });\n    }\n\n    // --- 7. ICONS ---\n    lucide.createIcons();\n});"],"names":["lenis","t","raf","time","burger","nav","navLinks","toggleMenu","link","initThreeHero","container","scene","camera","renderer","geometry","material","sphere","geometryInner","materialInner","sphereInner","mouseX","mouseY","targetX","targetY","windowHalfX","windowHalfY","event","animate","width","height","el","form","messageBox","phoneInput","num1","num2","captchaResult","captchaLabel","userCaptcha","name","phoneVal","btn","originalText","cookieBanner","acceptBtn"],"mappings":"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"}